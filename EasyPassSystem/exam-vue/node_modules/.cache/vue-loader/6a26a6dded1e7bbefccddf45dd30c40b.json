{"remainingRequest":"D:\\WEB\\EasyPass在线考试系统\\EasyPassSystem\\exam-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\WEB\\EasyPass在线考试系统\\EasyPassSystem\\exam-vue\\src\\views\\student\\ExamResult.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\WEB\\EasyPass在线考试系统\\EasyPassSystem\\exam-vue\\src\\views\\student\\ExamResult.vue","mtime":1687154754466},{"path":"D:\\WEB\\EasyPass在线考试系统\\EasyPassSystem\\exam-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686540617114},{"path":"D:\\WEB\\EasyPass在线考试系统\\EasyPassSystem\\exam-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1686540617613},{"path":"D:\\WEB\\EasyPass在线考试系统\\EasyPassSystem\\exam-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686540617114},{"path":"D:\\WEB\\EasyPass在线考试系统\\EasyPassSystem\\exam-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1686540616128}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBleGFtIGZyb20gJ0AvYXBpL2V4YW0nCmltcG9ydCBxdWVzdGlvbiBmcm9tICdAL2FwaS9xdWVzdGlvbicKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRXhhbVJlc3VsdCcsCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICAvL+iAg+ivleiusOW9leS/oeaBrwogICAgICBleGFtUmVjb3JkOiB7fSwKICAgICAgLy/ogIPor5XnmoTkv6Hmga8KICAgICAgZXhhbUluZm86IHt9LAogICAgICAvL+W9k+WJjeiAg+ivleeahOmimOebrgogICAgICBxdWVzdGlvbkluZm86IFtdLAogICAgICAvL+mhtemdouWKoOi9vQogICAgICBsb2FkaW5nOiB7fSwKICAgICAgLy/nrZTmoYjnmoTpgInpobnlkI1hYmNk5pWw5o2uCiAgICAgIG9wdGlvbk5hbWU6IFsnQScsICdCJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdIJywgJ0knLCAnSicsICdLJywgJ0wnLCAnTScsICdOJywgJ08nLCAnUCcsICdRJywgJ1InLCAnUycsICdUJywgJ1UnLCAnVicsICdXJywgJ1gnLCAnWScsICdaJ10sCiAgICAgIC8v5Zu+54mH5Zue5pi+55qEdXJsCiAgICAgIGJpZ0ltZ1VybDogJycsCiAgICAgIC8v5Zu+54mH5Zue5pi+55qE5a+56K+d5qGG5piv5ZCm5pi+56S6CiAgICAgIGJpZ0ltZ0RpYWxvZzogZmFsc2UsCiAgICAgIC8v55So5oi35Zue562U55qE562U5qGICiAgICAgIHVzZXJBbnN3ZXI6IFtdLAogICAgICAvL+WNlemimOeahOWIhuWAvAogICAgICBxdWVzdGlvblNjb3JlOiBuZXcgTWFwKCkKICAgIH0KICB9LAogIHByb3BzOiBbJ3RhZ0luZm8nXSwKICBjcmVhdGVkICgpIHsKICAgIC8v5LiA5Yib5bu65bCx5pS55Y+Y5aS06YOo55qE6Z2i5YyF5bGRCiAgICB0aGlzLiRlbWl0KCdnaXZlQ2hpbGRDaGFuZ2VCcmVha0luZm8nLCAn6ICD6K+V57uT5p6cJywgJ+iAg+ivlee7k+aenCcpCiAgICB0aGlzLmNyZWF0ZVRhZ3NJblBhcmVudCgpCiAgICB0aGlzLmdldEV4YW1SZWNvcmQoKQoKICAgIC8v6aG16Z2i5pWw5o2u5Yqg6L2955qE562J5b6F54q25oCB5qCPCiAgICB0aGlzLmxvYWRpbmcgPSB0aGlzLiRMb2FkaW5nLnNlcnZpY2UoewogICAgICBib2R5OiB0cnVlLAogICAgICBsb2NrOiB0cnVlLAogICAgICB0ZXh0OiAn5pWw5o2u5ou85ZG95Yqg6L295LitLCgq4pW54pa94pW5KiknLAogICAgICBzcGlubmVyOiAnZWwtaWNvbi1sb2FkaW5nJywKICAgIH0pCiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+WQkeeItue7hOS7tuS4rea3u+WKoOWktOmDqOeahHRhZ3PmoIfnrb4KICAgIGNyZWF0ZVRhZ3NJblBhcmVudCAoKSB7CiAgICAgIGxldCBmbGFnID0gZmFsc2UKICAgICAgdGhpcy50YWdJbmZvLm1hcChpdGVtID0+IHsKICAgICAgICAvL+WmguaenHRhZ3Plhajpg6jnrKblkIgKICAgICAgICBpZiAoaXRlbS5uYW1lID09PSAn6ICD6K+V57uT5p6cJyAmJiBpdGVtLnVybCA9PT0gdGhpcy4kcm91dGUucGF0aCkgewogICAgICAgICAgZmxhZyA9IHRydWUKICAgICAgICB9IGVsc2UgaWYgKGl0ZW0ubmFtZSA9PT0gJ+iAg+ivlee7k+aenCcgJiYgaXRlbS51cmwgIT09IHRoaXMuJHJvdXRlLnBhdGgpIHsKICAgICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZVRhZ0luZm8nLCAn6ICD6K+V57uT5p6cJywgdGhpcy4kcm91dGUucGF0aCkKICAgICAgICAgIGZsYWcgPSB0cnVlCiAgICAgICAgfQogICAgICB9KQogICAgICBpZiAoIWZsYWcpIHRoaXMuJGVtaXQoJ2dpdmVDaGlsZEFkZFRhZycsICfogIPor5Xnu5PmnpwnLCB0aGlzLiRyb3V0ZS5wYXRoKQogICAgfSwKICAgIC8v5p+l6K+i55So5oi35b2T5pe26ICD6K+V55qE5L+h5oGvCiAgICBhc3luYyBnZXRFeGFtUmVjb3JkICgpIHsKICAgICAgYXdhaXQgZXhhbS5nZXRFeGFtUmVjb3JkQnlJZCh0aGlzLiRyb3V0ZS5wYXJhbXMucmVjb3JkSWQpLnRoZW4oKHJlc3ApID0+IHsKICAgICAgICBpZiAocmVzcC5jb2RlID09PSAyMDApIHsKICAgICAgICAgIHRoaXMuZXhhbVJlY29yZCA9IHJlc3AuZGF0YQogICAgICAgICAgdGhpcy5nZXRFeGFtSW5mb0J5SWQocmVzcC5kYXRhLmV4YW1JZCkKICAgICAgICAgIHRoaXMudXNlckFuc3dlciA9IHJlc3AuZGF0YS51c2VyQW5zd2Vycy5zcGxpdCgnLScpCiAgICAgICAgICAvL+iOt+WPluWNlemimOeahOWIhuWAvAogICAgICAgICAgdGhpcy5nZXRRdWVzdGlvblNjb3JlKHJlc3AuZGF0YS5leGFtSWQpCiAgICAgICAgICAvL+iOt+WPluaJgOaciemimOebruS/oeaBrwogICAgICAgICAgdGhpcy5nZXRRdWVzdGlvbkluZm9CeUlkcyhyZXNwLmRhdGEucXVlc3Rpb25JZHMpCiAgICAgICAgICAvL+aVsOaNruWKoOi9veWujOavlQogICAgICAgICAgdGhpcy5sb2FkaW5nLmNsb3NlKCkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgLy/moLnmja7ogIPor5VpZOafpeivouiAg+ivleS/oeaBrwogICAgZ2V0RXhhbUluZm9CeUlkIChleGFtSWQpIHsKICAgICAgZXhhbS5nZXRFeGFtSW5mb0J5SWQoeyAnZXhhbUlkJzogZXhhbUlkIH0pLnRoZW4oKHJlc3ApID0+IHsKICAgICAgICBpZiAocmVzcC5jb2RlID09PSAyMDApIHRoaXMuZXhhbUluZm8gPSByZXNwLmRhdGEKICAgICAgfSkKICAgIH0sCiAgICAvL+agueaNrmlkc+afpeivoumimOebruS/oeaBrwogICAgYXN5bmMgZ2V0UXVlc3Rpb25JbmZvQnlJZHMgKHF1ZXN0aW9uSWRzKSB7CiAgICAgIGF3YWl0IHF1ZXN0aW9uLmdldFF1ZXN0aW9uQnlJZHMoeyBpZHM6IHF1ZXN0aW9uSWRzIH0pLnRoZW4oKHJlc3ApID0+IHsKICAgICAgICBpZiAocmVzcC5jb2RlID09PSAyMDApIHsKICAgICAgICAgIHRoaXMucXVlc3Rpb25JbmZvID0gcmVzcD8uZGF0YT8uZGF0YSB8fCBbXQogICAgICAgICAgLy/ph43nva7pl67popjnmoTpobrluo8g5Y2V6YCJIOWkmumAiSDliKTmlq0g566A562UCiAgICAgICAgICB0aGlzLnF1ZXN0aW9uSW5mbyA9IHRoaXMucXVlc3Rpb25JbmZvLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgICAgcmV0dXJuIGEucXVlc3Rpb25UeXBlIC0gYi5xdWVzdGlvblR5cGUKICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIC8v54K55Ye75bGV56S66auY5riF5aSn5Zu+CiAgICBzaG93QmlnSW1nICh1cmwpIHsKICAgICAgdGhpcy5iaWdJbWdVcmwgPSB1cmwKICAgICAgdGhpcy5iaWdJbWdEaWFsb2cgPSB0cnVlCiAgICB9LAogICAgLy/moLnmja7ogIPor5VpZOafpeivouiAg+ivleS4reavj+S4gOmimOeahOWIhuaVsAogICAgYXN5bmMgZ2V0UXVlc3Rpb25TY29yZSAoZXhhbUlkKSB7CiAgICAgIGF3YWl0IGV4YW0uZ2V0RXhhbVF1ZXN0aW9uQnlFeGFtSWQoZXhhbUlkKS50aGVuKChyZXNwKSA9PiB7CiAgICAgICAgaWYgKHJlc3AuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAvL+iuvue9ruWNlemimOWIhuWAvOe7mW1hcAogICAgICAgICAgY29uc3Qgc2NvcmVzID0gcmVzcC5kYXRhLnNjb3Jlcy5zcGxpdCgnLCcpCiAgICAgICAgICByZXNwLmRhdGEucXVlc3Rpb25JZHMuc3BsaXQoJywnKS5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4gewogICAgICAgICAgICAvLyB0aGlzLiRzZXQodGhpcy5xdWVzdGlvblNjb3JlLCBpdGVtLCBzY29yZXNbaW5kZXhdKQogICAgICAgICAgICB0aGlzLnF1ZXN0aW9uU2NvcmUuc2V0KGl0ZW0sIHNjb3Jlc1tpbmRleF0pCiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["ExamResult.vue"],"names":[],"mappings":";AAsFA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ExamResult.vue","sourceRoot":"src/views/student","sourcesContent":["<template>\n  <el-container>\n    <el-header height=\"150\">\n      <el-card style=\"height: 150px\">\n        <span class=\"examName\">{{ examInfo.examName }}</span>\n        <span class=\"examTime\">{{ examRecord.examTime }}</span>\n\n        <el-row style=\"margin-top: 55px;\">\n          <el-tooltip class=\"item\" effect=\"dark\" content=\"包括(单选,多选,判断题)\" placement=\"top-start\">\n             <span style=\"font-weight: 800;font-size: 17px\">\n          逻辑题得分: {{ examRecord.logicScore }}分</span>\n          </el-tooltip>\n\n          <el-tooltip class=\"item\" effect=\"dark\" content=\"简答题与逻辑题\" placement=\"top-start\">\n          <span style=\"float: right;font-weight: 800;font-size: 17px\">\n          总分: {{ examInfo.totalScore }}分</span>\n          </el-tooltip>\n        </el-row>\n\n      </el-card>\n\n    </el-header>\n\n    <el-main>\n      <el-card>\n        <!--题目信息-->\n        <div v-for=\"(item,index) in questionInfo\" :key=\"index\" style=\"margin-top: 15px\">\n          <div>\n            <i class=\"num\">{{ index + 1 }}</i>\n            <span v-if=\"item.questionType === 1\">【单选题】</span>\n            <span v-else-if=\"item.questionType === 2\">【多选题】</span>\n            <span v-else-if=\"item.questionType === 3\">【判断题】</span>\n            <span v-else>【简答题】</span>\n            <span>{{ item.questionContent }}:</span>\n            <span style=\"color: red;font-style: italic;font-weight: 400;\">&nbsp;{{\n                questionScore.get(String(item.questionId))\n              }}分</span>\n          </div>\n          \n          <!--单选 和 判断 的答案列表-->\n          <div style=\"margin-top: 25px\"\n               v-show=\"item.questionType === 1 || item.questionType === 3\">\n            <div class=\"el-radio-group\">\n              <label v-for=\"(i2,index2) in item.answer\"\n                     :class=\"String(index2) === userAnswer[index] && i2.isTrue === 'true' ?\n                      'activeAndTrue' : String(index2) === userAnswer[index] ? 'active' :\n                       i2.isTrue === 'true' ? 'true' : ''\">\n                <span>{{ optionName[index2] + '、' + i2.answer }}</span>\n                 </label>\n            </div>\n          </div>\n\n          <!--多选的答案列表-->\n          <div style=\"margin-top: 25px\" v-show=\"item.questionType === 2\">\n            <div class=\"el-radio-group\">\n              <label v-for=\"(i2,index2) in item.answer\"\n                     :class=\"(userAnswer[index]+'').indexOf(index2+'') !== -1 && i2.isTrue === 'true'\n                     ? 'activeAndTrue' : (userAnswer[index]+'').indexOf(index2+'') !== -1 ? 'active' :\n                       i2.isTrue === 'true' ? 'true' : ''\">\n                <span>{{ optionName[index] + '、' + i2.answer }}</span>\n                </label>\n            </div>\n          </div>\n\n          <!--简答题的答案-->\n          <div style=\"margin-top: 25px\" v-show=\"item.questionType === 4\">\n            <div class=\"ques-analysis\">\n              <h3 style=\"font-weight: 400\">我的回答：</h3>\n              <p style=\"font-weight: 400;color: orange\"> {{ userAnswer[index] }} </p>\n            </div>\n          </div>\n\n        </div>\n\n\n      </el-card>\n    </el-main>\n\n    <!--图片回显-->\n    <el-dialog :visible.sync=\"bigImgDialog\" @close=\"bigImgDialog = false\">\n      <img style=\"width: 100%\" :src=\"bigImgUrl\">\n    </el-dialog>\n  </el-container>\n</template>\n\n<script>\nimport exam from '@/api/exam'\nimport question from '@/api/question'\n\nexport default {\n  name: 'ExamResult',\n  data () {\n    return {\n      //考试记录信息\n      examRecord: {},\n      //考试的信息\n      examInfo: {},\n      //当前考试的题目\n      questionInfo: [],\n      //页面加载\n      loading: {},\n      //答案的选项名abcd数据\n      optionName: ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'],\n      //图片回显的url\n      bigImgUrl: '',\n      //图片回显的对话框是否显示\n      bigImgDialog: false,\n      //用户回答的答案\n      userAnswer: [],\n      //单题的分值\n      questionScore: new Map()\n    }\n  },\n  props: ['tagInfo'],\n  created () {\n    //一创建就改变头部的面包屑\n    this.$emit('giveChildChangeBreakInfo', '考试结果', '考试结果')\n    this.createTagsInParent()\n    this.getExamRecord()\n\n    //页面数据加载的等待状态栏\n    this.loading = this.$Loading.service({\n      body: true,\n      lock: true,\n      text: '数据拼命加载中,(*╹▽╹*)',\n      spinner: 'el-icon-loading',\n    })\n  },\n  methods: {\n    //向父组件中添加头部的tags标签\n    createTagsInParent () {\n      let flag = false\n      this.tagInfo.map(item => {\n        //如果tags全部符合\n        if (item.name === '考试结果' && item.url === this.$route.path) {\n          flag = true\n        } else if (item.name === '考试结果' && item.url !== this.$route.path) {\n          this.$emit('updateTagInfo', '考试结果', this.$route.path)\n          flag = true\n        }\n      })\n      if (!flag) this.$emit('giveChildAddTag', '考试结果', this.$route.path)\n    },\n    //查询用户当时考试的信息\n    async getExamRecord () {\n      await exam.getExamRecordById(this.$route.params.recordId).then((resp) => {\n        if (resp.code === 200) {\n          this.examRecord = resp.data\n          this.getExamInfoById(resp.data.examId)\n          this.userAnswer = resp.data.userAnswers.split('-')\n          //获取单题的分值\n          this.getQuestionScore(resp.data.examId)\n          //获取所有题目信息\n          this.getQuestionInfoByIds(resp.data.questionIds)\n          //数据加载完毕\n          this.loading.close()\n        }\n      })\n    },\n    //根据考试id查询考试信息\n    getExamInfoById (examId) {\n      exam.getExamInfoById({ 'examId': examId }).then((resp) => {\n        if (resp.code === 200) this.examInfo = resp.data\n      })\n    },\n    //根据ids查询题目信息\n    async getQuestionInfoByIds (questionIds) {\n      await question.getQuestionByIds({ ids: questionIds }).then((resp) => {\n        if (resp.code === 200) {\n          this.questionInfo = resp?.data?.data || []\n          //重置问题的顺序 单选 多选 判断 简答\n          this.questionInfo = this.questionInfo.sort(function (a, b) {\n            return a.questionType - b.questionType\n          })\n        }\n      })\n    },\n    //点击展示高清大图\n    showBigImg (url) {\n      this.bigImgUrl = url\n      this.bigImgDialog = true\n    },\n    //根据考试id查询考试中每一题的分数\n    async getQuestionScore (examId) {\n      await exam.getExamQuestionByExamId(examId).then((resp) => {\n        if (resp.code === 200) {\n          //设置单题分值给map\n          const scores = resp.data.scores.split(',')\n          resp.data.questionIds.split(',').forEach((item, index) => {\n            // this.$set(this.questionScore, item, scores[index])\n            this.questionScore.set(item, scores[index])\n          })\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import \"../../assets/css/student/examResult\";\n</style>\n"]}]}