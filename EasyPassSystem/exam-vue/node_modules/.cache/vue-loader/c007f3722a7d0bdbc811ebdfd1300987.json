{"remainingRequest":"D:\\BaiduDownload\\projectmass\\exam-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\BaiduDownload\\projectmass\\exam-vue\\src\\views\\teacher\\ExamManage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\BaiduDownload\\projectmass\\exam-vue\\src\\views\\teacher\\ExamManage.vue","mtime":1682044119000},{"path":"D:\\BaiduDownload\\projectmass\\exam-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686540617114},{"path":"D:\\BaiduDownload\\projectmass\\exam-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1686540617613},{"path":"D:\\BaiduDownload\\projectmass\\exam-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686540617114},{"path":"D:\\BaiduDownload\\projectmass\\exam-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1686540616128}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBleGFtIGZyb20gJ0AvYXBpL2V4YW0nCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0V4YW1NYW5hZ2UnLAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgcXVlcnlJbmZvOiB7CiAgICAgICAgJ2V4YW1UeXBlJzogbnVsbCwKICAgICAgICAnc3RhcnRUaW1lJzogbnVsbCwKICAgICAgICAnZW5kVGltZSc6IG51bGwsCiAgICAgICAgJ2V4YW1OYW1lJzogbnVsbCwKICAgICAgICAncGFnZU5vJzogMCwKICAgICAgICAncGFnZVNpemUnOiAxMAogICAgICB9LAogICAgICAvL+ihqOagvOaYr+WQpuWcqOWKoOi9vQogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICAvL+iAg+ivleexu+Wei+S/oeaBrwogICAgICBleGFtVHlwZTogWwogICAgICAgIHsKICAgICAgICAgIGluZm86ICflhazlvIDogIPor5UnLAogICAgICAgICAgdHlwZTogMQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgaW5mbzogJ+mcgOimgeWvhueggScsCiAgICAgICAgICB0eXBlOiAyCiAgICAgICAgfQogICAgICBdLAogICAgICAvL+iiq+mAieaLqeeahOiAg+ivleeahOihjAogICAgICBzZWxlY3Rpb25UYWJsZTogW10sCiAgICAgIC8v6KGo5qC85aSa6KGM6YCJ5Lit55qE5pON5L2c5L+h5oGvCiAgICAgIG9wZXJhdGlvbjogJycsCiAgICAgIC8v5pSv5oyB5pON5L2c55qE5L+h5oGvCiAgICAgIG9wZXJhdGlvbkluZm86IFsKICAgICAgICB7CiAgICAgICAgICAnbGFiZWwnOiAn5ZCv55SoJywKICAgICAgICAgICdkZXNjJzogJ29uJwogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgJ2xhYmVsJzogJ+emgeeUqCcsCiAgICAgICAgICAnZGVzYyc6ICdvZmYnCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAnbGFiZWwnOiAn5Yig6ZmkJywKICAgICAgICAgICdkZXNjJzogJ2RlbGV0ZScKICAgICAgICB9CiAgICAgIF0sCiAgICAgIC8v6ICD6K+V5L+h5oGvCiAgICAgIGV4YW1JbmZvOiBbXSwKICAgICAgLy/mn6Xor6LliLDnmoTogIPor5XmgLvmlbAKICAgICAgdG90YWw6IDAsCgogICAgfQogIH0sCiAgY3JlYXRlZCAoKSB7CiAgICB0aGlzLmdldEV4YW1JbmZvKCkKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v6ICD6K+V57G75Z6L5pCc57SiCiAgICB0eXBlQ2hhbmdlICh2YWwpIHsKICAgICAgdGhpcy5xdWVyeUluZm8uZXhhbVR5cGUgPSB2YWwKICAgICAgdGhpcy5nZXRFeGFtSW5mbygpCiAgICB9LAogICAgLy/mk43kvZzlpJrooYzooajmoLzkv6Hmga8KICAgIG9wZXJhdGlvbkNoYW5nZSAodmFsKSB7CiAgICAgIGxldCBleGFtSWRzID0gW10KICAgICAgdGhpcy5zZWxlY3Rpb25UYWJsZS5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgIGV4YW1JZHMucHVzaChpdGVtLmV4YW1JZCkKICAgICAgfSkKICAgICAgaWYgKHZhbCA9PT0gJ29uJykgewogICAgICAgIGV4YW0ub3BlcmF0aW9uRXhhbSgxLCB7ICdpZHMnOiBleGFtSWRzLmpvaW4oJywnKSB9KS50aGVuKChyZXNwKSA9PiB7CiAgICAgICAgICBpZiAocmVzcC5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgdGhpcy5nZXRFeGFtSW5mbygpCiAgICAgICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICAgICAgJ3R5cGUnOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgJ3RpdGxlJzogJ1RpcHMnLAogICAgICAgICAgICAgICdtZXNzYWdlJzogJ+aTjeS9nOaIkOWKnycsCiAgICAgICAgICAgICAgJ2R1cmF0aW9uJzogMjAwMAogICAgICAgICAgICB9KQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0gZWxzZSBpZiAodmFsID09PSAnb2ZmJykgewogICAgICAgIGV4YW0ub3BlcmF0aW9uRXhhbSgyLCB7ICdpZHMnOiBleGFtSWRzLmpvaW4oJywnKSB9KS50aGVuKChyZXNwKSA9PiB7CiAgICAgICAgICBpZiAocmVzcC5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgdGhpcy5nZXRFeGFtSW5mbygpCiAgICAgICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICAgICAgJ3R5cGUnOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgJ3RpdGxlJzogJ1RpcHMnLAogICAgICAgICAgICAgICdtZXNzYWdlJzogJ+aTjeS9nOaIkOWKnycsCiAgICAgICAgICAgICAgJ2R1cmF0aW9uJzogMjAwMAogICAgICAgICAgICB9KQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0gZWxzZSBpZiAodmFsID09PSAnZGVsZXRlJykgewogICAgICAgIGV4YW0ub3BlcmF0aW9uRXhhbSgzLCB7ICdpZHMnOiBleGFtSWRzLmpvaW4oJywnKSB9KS50aGVuKChyZXNwKSA9PiB7CiAgICAgICAgICBpZiAocmVzcC5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgdGhpcy5nZXRFeGFtSW5mbygpCiAgICAgICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICAgICAgJ3R5cGUnOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgJ3RpdGxlJzogJ1RpcHMnLAogICAgICAgICAgICAgICdtZXNzYWdlJzogJ+aTjeS9nOaIkOWKnycsCiAgICAgICAgICAgICAgJ2R1cmF0aW9uJzogMjAwMAogICAgICAgICAgICB9KQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0KICAgIH0sCiAgICAvL+afpeivouiAg+ivleS/oeaBrwogICAgZ2V0RXhhbUluZm8gKCkgewogICAgICBleGFtLmdldEV4YW1JbmZvKHRoaXMucXVlcnlJbmZvKS50aGVuKChyZXNwKSA9PiB7CiAgICAgICAgaWYgKHJlc3AuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICByZXNwLmRhdGEuZGF0YS5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICBpdGVtLnN0YXJ0VGltZSA9IFN0cmluZyhpdGVtLnN0YXJ0VGltZSkuc3Vic3RyaW5nKDAsIDEwKQogICAgICAgICAgICBpdGVtLmVuZFRpbWUgPSBTdHJpbmcoaXRlbS5lbmRUaW1lKS5zdWJzdHJpbmcoMCwgMTApCiAgICAgICAgICB9KQogICAgICAgICAgdGhpcy5leGFtSW5mbyA9IHJlc3AuZGF0YS5kYXRhCiAgICAgICAgICB0aGlzLnRvdGFsID0gcmVzcC5kYXRhLnRvdGFsCiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICAvL+WkhOeQhuihqOagvOiiq+mAieS4rQogICAgaGFuZGxlVGFibGVTZWN0aW9uQ2hhbmdlICh2YWwpIHsKICAgICAgdGhpcy5zZWxlY3Rpb25UYWJsZSA9IHZhbAogICAgfSwKICAgIC8v5YiG6aG16aG16Z2i5aSn5bCP5pS55Y+YCiAgICBoYW5kbGVTaXplQ2hhbmdlICh2YWwpIHsKICAgICAgdGhpcy5xdWVyeUluZm8ucGFnZVNpemUgPSB2YWwKICAgICAgdGhpcy5nZXRFeGFtSW5mbygpCiAgICB9LAogICAgLy/liIbpobXmj5Lku7bnmoTpobXmlbAKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UgKHZhbCkgewogICAgICB0aGlzLnF1ZXJ5SW5mby5wYWdlTm8gPSB2YWwKICAgICAgdGhpcy5nZXRFeGFtSW5mbygpCiAgICB9LAogIH0KfQo="},{"version":3,"sources":["ExamManage.vue"],"names":[],"mappings":";AA+GA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ExamManage.vue","sourceRoot":"src/views/teacher","sourcesContent":["<template>\n  <el-container>\n    <el-header height=\"220\">\n      <el-select @change=\"typeChange\" clearable v-model=\"queryInfo.examType\" placeholder=\"请选择考试类型\">\n        <el-option\n          v-for=\"item in examType\"\n          :key=\"item.type\"\n          :label=\"item.info\"\n          :value=\"item.type\">\n        </el-option>\n      </el-select>\n\n      <el-date-picker style=\"margin-left: 5px\"\n                      v-model=\"queryInfo.startTime\" @change=\"getExamInfo\"\n                      type=\"date\"\n                      placeholder=\"考试开始时间\">\n      </el-date-picker>\n\n      <el-date-picker style=\"margin-left: 5px\" @change=\"getExamInfo\"\n                      v-model=\"queryInfo.endTime\"\n                      type=\"date\"\n                      placeholder=\"考试结束时间\">\n      </el-date-picker>\n\n      <el-input v-model=\"queryInfo.examName\" placeholder=\"考试名称\" @blur=\"getExamInfo\"\n                style=\"margin-left: 5px;width: 220px\"\n                prefix-icon=\"el-icon-search\"></el-input>\n      <br>\n      <el-button type=\"primary\" icon=\"el-icon-plus\" style=\"margin-top: 10px\"\n                 @click=\"$router.push('/addExam')\">添加\n      </el-button>\n    </el-header>\n\n    <el-main>\n      <!--操作的下拉框-->\n      <el-select @change=\"operationChange\" clearable v-if=\"selectionTable.length !== 0\" v-model=\"operation\"\n                 :placeholder=\"'已选择' + selectionTable.length + '项'\" style=\"margin-bottom: 25px;\">\n        <el-option v-for=\"(item,index) in operationInfo\" :key=\"index\" :value=\"item.desc\">\n          <span style=\"float: left\">{{ item.label }}</span>\n          <span style=\"float: right; color: #8492a6; font-size: 13px\">{{ item.desc }}</span>\n        </el-option>\n      </el-select>\n\n      <el-table\n        ref=\"questionTable\"\n        highlight-current-row\n        v-loading=\"loading\"\n        :border=\"true\"\n        :data=\"examInfo\"\n        tooltip-effect=\"dark\"\n        style=\"width: 100%;\" @selection-change=\"handleTableSectionChange\">\n\n        <el-table-column align=\"center\"\n                         type=\"selection\"\n                         width=\"55\">\n        </el-table-column>\n\n        <el-table-column align=\"center\" label=\"考试名称\">\n          <template slot-scope=\"scope\">\n            <span style=\"cursor:pointer;color: rgb(24,144,255)\" @click=\"$router.push('/updateExam/'+ scope.row.examId)\">{{\n                scope.row.examName\n              }}</span>\n          </template>\n        </el-table-column>\n\n        <el-table-column align=\"center\" label=\"考试类型\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.type === 1 ? '完全公开' : '需要密码' }}\n          </template>\n        </el-table-column>\n\n        <el-table-column align=\"center\" label=\"考试时间\">\n          <template slot-scope=\"scope\">\n            {{\n              scope.row.startTime !== 'null' && scope.row.endTime !== 'null' ?\n                scope.row.startTime + ' ~' + scope.row.endTime : '不限时'\n            }}\n          </template>\n        </el-table-column>\n\n        <el-table-column align=\"center\" prop=\"totalScore\" label=\"考试总分\"></el-table-column>\n\n        <el-table-column align=\"center\" prop=\"passScore\" label=\"及格分数\"></el-table-column>\n\n        <el-table-column align=\"center\" prop=\"duration\" label=\"考试时长(分)\"></el-table-column>\n\n        <el-table-column align=\"center\" label=\"状态\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.status === 1 ? '启用' : '禁用' }}\n          </template>\n        </el-table-column>\n\n      </el-table>\n\n      <!--分页-->\n      <el-pagination style=\"margin-top: 25px\"\n                     @size-change=\"handleSizeChange\"\n                     @current-change=\"handleCurrentChange\"\n                     :current-page=\"queryInfo.pageNo\"\n                     :page-sizes=\"[10, 20, 30, 50]\"\n                     :page-size=\"queryInfo.pageSize\"\n                     layout=\"total, sizes, prev, pager, next, jumper\"\n                     :total=\"total\">\n      </el-pagination>\n    </el-main>\n\n  </el-container>\n\n</template>\n\n<script>\nimport exam from '@/api/exam'\n\nexport default {\n  name: 'ExamManage',\n  data () {\n    return {\n      queryInfo: {\n        'examType': null,\n        'startTime': null,\n        'endTime': null,\n        'examName': null,\n        'pageNo': 0,\n        'pageSize': 10\n      },\n      //表格是否在加载\n      loading: true,\n      //考试类型信息\n      examType: [\n        {\n          info: '公开考试',\n          type: 1\n        },\n        {\n          info: '需要密码',\n          type: 2\n        }\n      ],\n      //被选择的考试的行\n      selectionTable: [],\n      //表格多行选中的操作信息\n      operation: '',\n      //支持操作的信息\n      operationInfo: [\n        {\n          'label': '启用',\n          'desc': 'on'\n        },\n        {\n          'label': '禁用',\n          'desc': 'off'\n        },\n        {\n          'label': '删除',\n          'desc': 'delete'\n        }\n      ],\n      //考试信息\n      examInfo: [],\n      //查询到的考试总数\n      total: 0,\n\n    }\n  },\n  created () {\n    this.getExamInfo()\n  },\n  methods: {\n    //考试类型搜索\n    typeChange (val) {\n      this.queryInfo.examType = val\n      this.getExamInfo()\n    },\n    //操作多行表格信息\n    operationChange (val) {\n      let examIds = []\n      this.selectionTable.forEach(item => {\n        examIds.push(item.examId)\n      })\n      if (val === 'on') {\n        exam.operationExam(1, { 'ids': examIds.join(',') }).then((resp) => {\n          if (resp.code === 200) {\n            this.getExamInfo()\n            this.$notify({\n              'type': 'success',\n              'title': 'Tips',\n              'message': '操作成功',\n              'duration': 2000\n            })\n          }\n        })\n      } else if (val === 'off') {\n        exam.operationExam(2, { 'ids': examIds.join(',') }).then((resp) => {\n          if (resp.code === 200) {\n            this.getExamInfo()\n            this.$notify({\n              'type': 'success',\n              'title': 'Tips',\n              'message': '操作成功',\n              'duration': 2000\n            })\n          }\n        })\n      } else if (val === 'delete') {\n        exam.operationExam(3, { 'ids': examIds.join(',') }).then((resp) => {\n          if (resp.code === 200) {\n            this.getExamInfo()\n            this.$notify({\n              'type': 'success',\n              'title': 'Tips',\n              'message': '操作成功',\n              'duration': 2000\n            })\n          }\n        })\n      }\n    },\n    //查询考试信息\n    getExamInfo () {\n      exam.getExamInfo(this.queryInfo).then((resp) => {\n        if (resp.code === 200) {\n          resp.data.data.forEach(item => {\n            item.startTime = String(item.startTime).substring(0, 10)\n            item.endTime = String(item.endTime).substring(0, 10)\n          })\n          this.examInfo = resp.data.data\n          this.total = resp.data.total\n          this.loading = false\n        }\n      })\n    },\n    //处理表格被选中\n    handleTableSectionChange (val) {\n      this.selectionTable = val\n    },\n    //分页页面大小改变\n    handleSizeChange (val) {\n      this.queryInfo.pageSize = val\n      this.getExamInfo()\n    },\n    //分页插件的页数\n    handleCurrentChange (val) {\n      this.queryInfo.pageNo = val\n      this.getExamInfo()\n    },\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import \"../../assets/css/teacher/examManage\";\n</style>\n"]}]}