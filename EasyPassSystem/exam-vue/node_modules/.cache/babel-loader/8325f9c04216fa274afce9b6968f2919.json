{"remainingRequest":"D:\\WEB\\EasyPass在线考试系统\\EasyPassSystem\\exam-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\WEB\\EasyPass在线考试系统\\EasyPassSystem\\exam-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\WEB\\EasyPass在线考试系统\\EasyPassSystem\\exam-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\WEB\\EasyPass在线考试系统\\EasyPassSystem\\exam-vue\\src\\views\\admin\\NoticeManage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\WEB\\EasyPass在线考试系统\\EasyPassSystem\\exam-vue\\src\\views\\admin\\NoticeManage.vue","mtime":1697024528547},{"path":"D:\\WEB\\EasyPass在线考试系统\\EasyPassSystem\\exam-vue\\babel.config.js","mtime":1682044119000},{"path":"D:\\WEB\\EasyPass在线考试系统\\EasyPassSystem\\exam-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686540617114},{"path":"D:\\WEB\\EasyPass在线考试系统\\EasyPassSystem\\exam-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1686540617613},{"path":"D:\\WEB\\EasyPass在线考试系统\\EasyPassSystem\\exam-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686540617114},{"path":"D:\\WEB\\EasyPass在线考试系统\\EasyPassSystem\\exam-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1686540616128}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7Ci8vIOWvvOWFpeaWh+acrOe8lui+keWZqAppbXBvcnQgRSBmcm9tICd3YW5nZWRpdG9yJzsKaW1wb3J0IG5vdGljZSBmcm9tICdAL2FwaS9ub3RpY2UnOwppbXBvcnQgdXRpbHMgZnJvbSAnQC91dGlscy91dGlscyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTm90aWNlTWFuYWdlJywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g5p+l6K+i5YWs5ZGK55qE5Y+C5pWwCiAgICAgIHF1ZXJ5SW5mbzogewogICAgICAgIG5vdGljZUNvbnRlbnQ6ICcnLAogICAgICAgIHBhZ2VObzogMSwKICAgICAgICBwYWdlU2l6ZTogMTAKICAgICAgfSwKICAgICAgLy8g5LiL5ouJ6YCJ5oup5qGG55qE5pWw5o2uCiAgICAgIG9wdGlvbkluZm86IFt7CiAgICAgICAgbGFiZWw6ICfliKDpmaQnLAogICAgICAgIGRlc2M6ICdkZWxldGUnCiAgICAgIH1dLAogICAgICAvLyDkuIvmi4nmoYbmiYDpgInmi6nnmoTmlbDmja4KICAgICAgc2VsZWN0ZWQ6ICcnLAogICAgICAvLyDmiYDmnInlhazlkYrkv6Hmga8KICAgICAgbm90aWNlSW5mbzogW10sCiAgICAgIC8vIOihqOagvOaVsOaNrumihOWKoOi9vQogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICAvLyDlhazlkYrmgLvmlbAKICAgICAgdG90YWw6IDAsCiAgICAgIC8vIOiiq+mAieS4reeahOihqOagvOihjAogICAgICBzZWxlY3RlZEluVGFibGU6IFtdLAogICAgICAvLyDlj5HluIPlhazlkYrlr7nor53moYYKICAgICAgcHVibGlzaFRhYmxlVmlzaWJsZTogZmFsc2UsCiAgICAgIC8vIOWPkeW4g+eahOihqOWNlQogICAgICBwdWJsaXNoRm9ybTogewogICAgICAgIGNvbnRlbnQ6ICcnLAogICAgICAgIHN0YXR1czogJzEnCiAgICAgIH0sCiAgICAgIHB1Ymxpc2hGb3JtUnVsZXM6IHsKICAgICAgICBjb250ZW50OiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5YWs5ZGK5YaF5a65JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIC8vIOWPkeW4g+WFrOWRiueahOWvjOaWh+acrOe8lui+keWZqAogICAgICBwdWJsaXNoRWRpdG9yOiBudWxsLAogICAgICAvLyDmm7TmlrDlhazlkYrnmoTlr4zmlofmnKznvJbovpHlmagKICAgICAgdXBkYXRlRWRpdG9yOiBudWxsLAogICAgICAvLyDmm7TmlrDlhazlkYrnmoTlr7nor53moYbmmK/lkKblsZXnpLoKICAgICAgdXBkYXRlVGFibGVWaXNpYmxlOiBmYWxzZSwKICAgICAgLy8g5pu05paw55qE6KGo5Y2VCiAgICAgIHVwZGF0ZUZvcm06IHsKICAgICAgICBuaWQ6ICcnLAogICAgICAgIGNvbnRlbnQ6ICcnLAogICAgICAgIHN0YXR1czogJycKICAgICAgfSwKICAgICAgdXBkYXRlRm9ybVJ1bGVzOiB7CiAgICAgICAgY29udGVudDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeWFrOWRiuWGheWuuScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9LAogICAgICAvLyDlvZPliY3mm7TmlrDnmoTlhazlkYrnmoTkv6Hmga8KICAgICAgY3VycmVudFVwZGF0ZU5vdGljZVN0YXR1czogJycKICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXROb3RpY2VJbmZvKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDojrflj5bnlKjmiLfkv6Hmga8KICAgIGdldE5vdGljZUluZm8oKSB7CiAgICAgIG5vdGljZS5nZXRBbGxOb3RpY2UodGhpcy5xdWVyeUluZm8pLnRoZW4ocmVzcCA9PiB7CiAgICAgICAgaWYgKHJlc3AuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLm5vdGljZUluZm8gPSByZXNwLmRhdGEuZGF0YTsKICAgICAgICAgIHRoaXMudG90YWwgPSByZXNwLmRhdGEudG90YWw7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgICAgdGl0bGU6ICdUaXBzJywKICAgICAgICAgICAgbWVzc2FnZTogJ+iOt+WPluS/oeaBr+Wksei0pScsCiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOihqOagvOafkOS4gOihjOiiq+mAieS4rQogICAgaGFuZGxlU2VsZWN0aW9uQ2hhbmdlKHZhbCkgewogICAgICB0aGlzLnNlbGVjdGVkSW5UYWJsZSA9IHZhbDsKICAgIH0sCiAgICAvLyDliIbpobXmj5Lku7bnmoTlpKflsI/mlLnlj5gKICAgIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMucXVlcnlJbmZvLnBhZ2VTaXplID0gdmFsOwogICAgICB0aGlzLmdldE5vdGljZUluZm8oKTsKICAgIH0sCiAgICAvLyDliIbpobXmj5Lku7bnmoTpobXmlbAKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMucXVlcnlJbmZvLnBhZ2VObyA9IHZhbDsKICAgICAgdGhpcy5nZXROb3RpY2VJbmZvKCk7CiAgICB9LAogICAgLy8g5Yqf6IO95LiL5ouJ5qGG6KKr6YCJ5oupCiAgICBzZWxlY3RDaGFuZ2UodmFsKSB7CiAgICAgIC8vIOa4heepuuS4iuS4gOasoeeahOaTjeS9nAogICAgICB0aGlzLnNlbGVjdGVkID0gJyc7CiAgICAgIC8vIOihqOagvOS4reaJgOmAieS4reeahOWFrOWRiueahGlkCiAgICAgIGNvbnN0IGlkcyA9IFtdOwogICAgICB0aGlzLnNlbGVjdGVkSW5UYWJsZS5tYXAoaXRlbSA9PiB7CiAgICAgICAgaWYgKGl0ZW0uc3RhdHVzICE9PSAxKSB7CiAgICAgICAgICAvLyAqKumYsuatouWIoOmZpOW9k+WJjeS9v+eUqOWFrOWRigogICAgICAgICAgaWRzLnB1c2goaXRlbS5uaWQpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGlmICh2YWwgPT09ICdkZWxldGUnKSB7CiAgICAgICAgLy8g5Yig6ZmkCiAgICAgICAgaWYgKGlkcy5sZW5ndGggPT09IDApIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4jeWFgeiuuOWIoOmZpOW9k+WJjeS9v+eUqOWFrOWRiicpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBub3RpY2UuZGVsZXRlTm90aWNlKHsKICAgICAgICAgICAgaWRzOiBpZHMuam9pbignLCcpCiAgICAgICAgICB9KS50aGVuKHJlc3AgPT4gewogICAgICAgICAgICBpZiAocmVzcC5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAvLyDliKDpmaTmiJDlip/lkI4s5Zue6LCD5pu05paw5pWw5o2uCiAgICAgICAgICAgICAgdGhpcy5nZXROb3RpY2VJbmZvKCk7CiAgICAgICAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgICAgICAgIHRpdGxlOiAnVGlwcycsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXNwLm1lc3NhZ2UsCiAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICAgICAgICB0aXRsZTogJ1RpcHMnLAogICAgICAgICAgICAgICAgbWVzc2FnZTogJ+aTjeS9nOWksei0pScsCiAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgICAgICAgZHVyYXRpb246IDIwMDAKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy8g5pi+56S65Y+R5biD5paw6Ze75a+56K+d5qGGCiAgICBzaG93UHVibGlzaE5vdGljZURpYWxvZygpIHsKICAgICAgdGhpcy5wdWJsaXNoVGFibGVWaXNpYmxlID0gdHJ1ZTsKICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMuY3JlYXRlUHVibGlzaFdhbmdFZGl0b3IoKTsKICAgICAgfSwgMjAwKTsKICAgIH0sCiAgICAvLyDlj5HluIPlhazlkYrnmoTooajljZXkv6Hmga/ph43nva4KICAgIHJlc2V0UHVibGlzaEZvcm0oKSB7CiAgICAgIC8vIOa4heepuuihqOagvOaVsOaNrgogICAgICB0aGlzLiRyZWZzLnB1Ymxpc2hGb3JtLnJlc2V0RmllbGRzKCk7CiAgICB9LAogICAgLy8g5Yib5bu65paw5aKe5paw6Ze755qE5a+M5paH5pys57yW6L6R5ZmoCiAgICBjcmVhdGVQdWJsaXNoV2FuZ0VkaXRvcigpIHsKICAgICAgaWYgKCF0aGlzLnB1Ymxpc2hFZGl0b3IpIHsKICAgICAgICB0aGlzLnB1Ymxpc2hFZGl0b3IgPSBuZXcgRSgnI3B1Ymxpc2hFZGl0b3InKTsKICAgICAgICB0aGlzLnB1Ymxpc2hFZGl0b3IuY3JlYXRlKCk7CiAgICAgIH0KICAgICAgLy8g6K6+572u57yW6L6R5Yy65Z+f6auY5bqm5Li6IDMwMHB4CiAgICAgIHRoaXMucHVibGlzaEVkaXRvci5jb25maWcuaGVpZ2h0ID0gMzAwOwogICAgICB0aGlzLnB1Ymxpc2hFZGl0b3IuY29uZmlnLm9uY2hhbmdlID0gaHRtbCA9PiB7CiAgICAgICAgdGhpcy5wdWJsaXNoRm9ybS5jb250ZW50ID0gaHRtbDsKICAgICAgfTsKICAgICAgdGhpcy5wdWJsaXNoRWRpdG9yLnR4dC5odG1sKHRoaXMucHVibGlzaEZvcm0uY29udGVudCk7CiAgICB9LAogICAgLy8g5Yib5bu65pu05paw5paH5pys57yW6L6R5ZmoCiAgICBjcmVhdGVVcGRhdGVXYW5nRWRpdG9yKCkgewogICAgICBpZiAoIXRoaXMudXBkYXRlRWRpdG9yKSB7CiAgICAgICAgdGhpcy51cGRhdGVFZGl0b3IgPSBuZXcgRSgnI3VwZGF0ZUVkaXRvcicpOwogICAgICAgIHRoaXMudXBkYXRlRWRpdG9yLmNyZWF0ZSgpOwogICAgICB9CiAgICAgIC8vIOiuvue9rue8lui+keWMuuWfn+mrmOW6puS4uiAzMDBweAogICAgICB0aGlzLnVwZGF0ZUVkaXRvci5jb25maWcuaGVpZ2h0ID0gMzAwOwogICAgICB0aGlzLnVwZGF0ZUVkaXRvci5jb25maWcub25jaGFuZ2UgPSBodG1sID0+IHsKICAgICAgICB0aGlzLnVwZGF0ZUZvcm0uY29udGVudCA9IGh0bWw7CiAgICAgIH07CiAgICAgIHRoaXMudXBkYXRlRWRpdG9yLnR4dC5odG1sKHRoaXMudXBkYXRlRm9ybS5jb250ZW50KTsKICAgIH0sCiAgICAvLyDlj5HluIPlhazlkYoKICAgIHB1Ymxpc2hOb3RpY2UoKSB7CiAgICAgIHV0aWxzLnZhbGlkRm9ybUFuZEludm9rZSh0aGlzLiRyZWZzLnB1Ymxpc2hGb3JtLCAoKSA9PiB7CiAgICAgICAgbm90aWNlLnB1Ymxpc2hOb3RpY2UodGhpcy5wdWJsaXNoRm9ybSkudGhlbihyZXNwID0+IHsKICAgICAgICAgIGlmIChyZXNwLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICB0aGlzLmdldE5vdGljZUluZm8oKTsKICAgICAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgICAgICB0aXRsZTogJ1RpcHMnLAogICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3AubWVzc2FnZSwKICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgZHVyYXRpb246IDIwMDAKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiRub3RpZnkoewogICAgICAgICAgICAgIHRpdGxlOiAnVGlwcycsCiAgICAgICAgICAgICAgbWVzc2FnZTogcmVzcC5tZXNzYWdlLAogICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICAgICAgZHVyYXRpb246IDIwMDAKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnB1Ymxpc2hUYWJsZVZpc2libGUgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgfSwgJ+ivt+ajgOafpeaCqOaJgOWhq+WGmeeahOS/oeaBr+aYr+WQpuacieivrycpOwogICAgfSwKICAgIC8vIOaYvuekuuabtOaWsOWFrOWRiueahOWvueivneahhgogICAgc2hvd1VwZGF0ZU5vdGljZURpYWxvZyhyb3cpIHsKICAgICAgdGhpcy51cGRhdGVGb3JtLmNvbnRlbnQgPSByb3cuY29udGVudDsKICAgICAgdGhpcy51cGRhdGVGb3JtLm5pZCA9IHJvdy5uaWQ7CiAgICAgIHRoaXMudXBkYXRlRm9ybS5zdGF0dXMgPSByb3cuc3RhdHVzICsgJyc7CiAgICAgIHRoaXMuY3VycmVudFVwZGF0ZU5vdGljZVN0YXR1cyA9IHJvdy5zdGF0dXMgKyAnJzsKICAgICAgdGhpcy51cGRhdGVUYWJsZVZpc2libGUgPSB0cnVlOwogICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy5jcmVhdGVVcGRhdGVXYW5nRWRpdG9yKCk7CiAgICAgIH0sIDIwMCk7CiAgICB9LAogICAgLy8g5pu05paw5YWs5ZGKCiAgICB1cGRhdGVOb3RpY2UoKSB7CiAgICAgIHV0aWxzLnZhbGlkRm9ybUFuZEludm9rZSh0aGlzLiRyZWZzLnVwZGF0ZUZvcm0sICgpID0+IHsKICAgICAgICBub3RpY2UudXBkYXRlTm90aWNlKHRoaXMudXBkYXRlRm9ybSkudGhlbihyZXNwID0+IHsKICAgICAgICAgIGlmIChyZXNwLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICB0aGlzLmdldE5vdGljZUluZm8oKTsKICAgICAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgICAgICB0aXRsZTogJ1RpcHMnLAogICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3AubWVzc2FnZSwKICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgZHVyYXRpb246IDIwMDAKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiRub3RpZnkoewogICAgICAgICAgICAgIHRpdGxlOiAnVGlwcycsCiAgICAgICAgICAgICAgbWVzc2FnZTogcmVzcC5tZXNzYWdlLAogICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICAgICAgZHVyYXRpb246IDIwMDAKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnVwZGF0ZVRhYmxlVmlzaWJsZSA9IGZhbHNlOwogICAgICAgIH0pOwogICAgICB9LCAn6K+35qOA5p+l5oKo5omA5aGr5YaZ55qE5L+h5oGv5piv5ZCm5pyJ6K+vJyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["E","notice","utils","name","data","queryInfo","noticeContent","pageNo","pageSize","optionInfo","label","desc","selected","noticeInfo","loading","total","selectedInTable","publishTableVisible","publishForm","content","status","publishFormRules","required","message","trigger","publishEditor","updateEditor","updateTableVisible","updateForm","nid","updateFormRules","currentUpdateNoticeStatus","created","getNoticeInfo","methods","getAllNotice","then","resp","code","$notify","title","type","duration","handleSelectionChange","val","handleSizeChange","handleCurrentChange","selectChange","ids","map","item","push","length","$message","error","deleteNotice","join","showPublishNoticeDialog","window","setTimeout","createPublishWangEditor","resetPublishForm","$refs","resetFields","create","config","height","onchange","html","txt","createUpdateWangEditor","publishNotice","validFormAndInvoke","showUpdateNoticeDialog","row","updateNotice"],"sources":["src/views/admin/NoticeManage.vue"],"sourcesContent":["<template>\n  <el-container>\n    <!-- 头部区域 -->\n    <el-header>\n      <el-input v-model=\"queryInfo.noticeContent\" @blur=\"getNoticeInfo\" placeholder=\"搜索公告\" prefix-icon=\"el-icon-search\" />\n      <el-button type=\"primary\" style=\"margin-left: 5px\" icon=\"el-icon-plus\" @click=\"showPublishNoticeDialog\">\n        发布新公告\n      </el-button>\n    </el-header>\n\n    <el-main>\n      <!--操作的下拉框-->\n      <el-select @change=\"selectChange\" clearable v-if=\"selectedInTable.length !== 0\" v-model=\"selected\"\n        :placeholder=\"'已选择' + selectedInTable.length + '项'\" style=\"margin-bottom: 25px;\">\n        <el-option v-for=\"(item, index) in optionInfo\" :key=\"index\" :value=\"item.desc\">\n          <span style=\"float: left\">{{ item.label }}</span>\n          <span style=\"float: right; color: #8492a6; font-size: 13px\">{{ item.desc }}</span>\n        </el-option>\n      </el-select>\n\n      <el-table ref=\"multipleTable\" highlight-current-row v-loading=\"loading\" :border=\"true\" :data=\"noticeInfo\"\n        tooltip-effect=\"dark\" style=\"width: 100%\" @selection-change=\"handleSelectionChange\">\n        <el-table-column align=\"center\" type=\"selection\" width=\"55\" />\n\n        <el-table-column label=\"公告内容\" width=\"600px;\">\n          <template slot-scope=\"scope\">\n            <p v-html=\"scope.row.content\" />\n          </template>\n        </el-table-column>\n\n        <el-table-column align=\"center\" prop=\"createTime\" label=\"发布时间\" />\n\n        <el-table-column align=\"center\" label=\"更新时间\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.updateTime === null ? '暂无更新' : scope.row.updateTime }}\n          </template>\n        </el-table-column>\n\n        <el-table-column align=\"center\" label=\"状态\">\n          <template slot-scope=\"scope\">\n            <p v-if=\"scope.row.status === 1\" style=\"color: limegreen\">\n              当前系统公告\n            </p>\n            <p v-if=\"scope.row.status === 0\" style=\"color: #ffd550\">\n              历史公告\n            </p>\n          </template>\n        </el-table-column>\n\n        <el-table-column align=\"center\" label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"warning\" @click=\"showUpdateNoticeDialog(scope.row)\">\n              更新公告\n            </el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <!--分页-->\n      <el-pagination style=\"margin-top: 25px\" @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\n        :current-page=\"queryInfo.pageNo\" :page-sizes=\"[10, 20, 30, 50]\" :page-size=\"queryInfo.pageSize\"\n        layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\" />\n    </el-main>\n\n    <el-dialog title=\"发布公告\" :visible.sync=\"publishTableVisible\" width=\"70%\" @close=\"resetPublishForm\" center>\n      <el-form :model=\"publishForm\" :rules=\"publishFormRules\" ref=\"publishForm\">\n        <el-form-item label=\"公告内容\" label-width=\"120px\" prop=\"content\">\n          <div id=\"publishEditor\" />\n        </el-form-item>\n\n        <el-form-item label=\"当前最新公告?\" label-width=\"120px\" prop=\"status\">\n          <el-select v-model=\"publishForm.status\" placeholder=\"是否设置为当前最新公告\">\n            <el-option label=\"是\" value=\"1\" />\n            <el-option label=\"否\" value=\"0\" />\n          </el-select>\n        </el-form-item>\n      </el-form>\n\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"publishTableVisible = false\">\n          取 消\n        </el-button>\n        <el-button type=\"primary\" @click=\"publishNotice\">\n          发 布\n        </el-button>\n      </div>\n    </el-dialog>\n\n    <el-dialog title=\"更新公告\" :visible.sync=\"updateTableVisible\" width=\"70%\" @close=\"$refs['updateForm'].resetFields()\"\n      center>\n      <el-form :model=\"updateForm\" :rules=\"updateFormRules\" ref=\"updateForm\">\n        <el-form-item label=\"公告内容\" label-width=\"120px\" prop=\"content\">\n          <div id=\"updateEditor\" />\n        </el-form-item>\n\n        <el-form-item label=\"当前最新公告?\" label-width=\"120px\" prop=\"status\">\n          <el-select v-model=\"updateForm.status\" :disabled=\"currentUpdateNoticeStatus === '1'\" placeholder=\"是否设置为当前最新公告\">\n            <el-option label=\"是\" value=\"1\" />\n            <el-option label=\"否\" value=\"0\" />\n          </el-select>\n          <span v-show=\"currentUpdateNoticeStatus === '1'\" style=\"color: red\">\n            请将其他公告设置为当前使用公告后再操作正在使用的公告\n          </span>\n        </el-form-item>\n      </el-form>\n\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"updateTableVisible = false\">\n          取 消\n        </el-button>\n        <el-button type=\"primary\" @click=\"updateNotice\">\n          更 新\n        </el-button>\n      </div>\n    </el-dialog>\n  </el-container>\n</template>\n\n<script>\n// 导入文本编辑器\nimport E from 'wangeditor'\nimport notice from '@/api/notice'\nimport utils from '@/utils/utils'\n\nexport default {\n  name: 'NoticeManage',\n  data() {\n    return {\n      // 查询公告的参数\n      queryInfo: {\n        noticeContent: '',\n        pageNo: 1,\n        pageSize: 10\n      },\n      // 下拉选择框的数据\n      optionInfo: [\n        {\n          label: '删除',\n          desc: 'delete'\n        }\n      ],\n      // 下拉框所选择的数据\n      selected: '',\n      // 所有公告信息\n      noticeInfo: [],\n      // 表格数据预加载\n      loading: true,\n      // 公告总数\n      total: 0,\n      // 被选中的表格行\n      selectedInTable: [],\n      // 发布公告对话框\n      publishTableVisible: false,\n      // 发布的表单\n      publishForm: {\n        content: '',\n        status: '1'\n      },\n      publishFormRules: {\n        content: [\n          {\n            required: true,\n            message: '请输入公告内容',\n            trigger: 'blur'\n          }\n        ]\n      },\n      // 发布公告的富文本编辑器\n      publishEditor: null,\n      // 更新公告的富文本编辑器\n      updateEditor: null,\n      // 更新公告的对话框是否展示\n      updateTableVisible: false,\n      // 更新的表单\n      updateForm: {\n        nid: '',\n        content: '',\n        status: ''\n      },\n      updateFormRules: {\n        content: [\n          {\n            required: true,\n            message: '请输入公告内容',\n            trigger: 'blur'\n          }\n        ]\n      },\n      // 当前更新的公告的信息\n      currentUpdateNoticeStatus: ''\n    }\n  },\n  created() {\n    this.getNoticeInfo()\n  },\n  methods: { // 获取用户信息\n    getNoticeInfo() {\n      notice.getAllNotice(this.queryInfo).then((resp) => {\n        if (resp.code === 200) {\n          this.noticeInfo = resp.data.data\n          this.total = resp.data.total\n          this.loading = false\n        } else {\n          this.$notify({\n            title: 'Tips',\n            message: '获取信息失败',\n            type: 'error',\n            duration: 2000\n          })\n        }\n      })\n    },\n    // 表格某一行被选中\n    handleSelectionChange(val) {\n      this.selectedInTable = val\n    },\n    // 分页插件的大小改变\n    handleSizeChange(val) {\n      this.queryInfo.pageSize = val\n      this.getNoticeInfo()\n    },\n    // 分页插件的页数\n    handleCurrentChange(val) {\n      this.queryInfo.pageNo = val\n      this.getNoticeInfo()\n    },\n    // 功能下拉框被选择\n    selectChange(val) {\n      // 清空上一次的操作\n      this.selected = ''\n      // 表格中所选中的公告的id\n      const ids = []\n      this.selectedInTable.map(item => {\n        if (item.status !== 1) { // **防止删除当前使用公告\n          ids.push(item.nid)\n        }\n      })\n      if (val === 'delete') { // 删除\n        if (ids.length === 0) {\n          this.$message.error('不允许删除当前使用公告')\n        } else {\n          notice.deleteNotice({ ids: ids.join(',') }).then((resp) => {\n            if (resp.code === 200) {\n              // 删除成功后,回调更新数据\n              this.getNoticeInfo()\n              this.$notify({\n                title: 'Tips',\n                message: resp.message,\n                type: 'success',\n                duration: 2000\n              })\n            } else {\n              this.$notify({\n                title: 'Tips',\n                message: '操作失败',\n                type: 'error',\n                duration: 2000\n              })\n            }\n          })\n        }\n      }\n    },\n    // 显示发布新闻对话框\n    showPublishNoticeDialog() {\n      this.publishTableVisible = true\n      window.setTimeout(() => {\n        this.createPublishWangEditor()\n      }, 200)\n    },\n    // 发布公告的表单信息重置\n    resetPublishForm() {\n      // 清空表格数据\n      this.$refs.publishForm.resetFields()\n    },\n    // 创建新增新闻的富文本编辑器\n    createPublishWangEditor() {\n      if (!this.publishEditor) {\n        this.publishEditor = new E('#publishEditor')\n        this.publishEditor.create()\n      }\n      // 设置编辑区域高度为 300px\n      this.publishEditor.config.height = 300\n      this.publishEditor.config.onchange = (html) => {\n        this.publishForm.content = html\n      }\n      this.publishEditor.txt.html(this.publishForm.content)\n    },\n    // 创建更新文本编辑器\n    createUpdateWangEditor() {\n      if (!this.updateEditor) {\n        this.updateEditor = new E('#updateEditor')\n        this.updateEditor.create()\n      }\n      // 设置编辑区域高度为 300px\n      this.updateEditor.config.height = 300\n      this.updateEditor.config.onchange = (html) => {\n        this.updateForm.content = html\n      }\n      this.updateEditor.txt.html(this.updateForm.content)\n    },\n    // 发布公告\n    publishNotice() {\n      utils.validFormAndInvoke(this.$refs.publishForm, () => {\n        notice.publishNotice(this.publishForm).then((resp) => {\n          if (resp.code === 200) {\n            this.getNoticeInfo()\n            this.$notify({\n              title: 'Tips',\n              message: resp.message,\n              type: 'success',\n              duration: 2000\n            })\n          } else {\n            this.$notify({\n              title: 'Tips',\n              message: resp.message,\n              type: 'error',\n              duration: 2000\n            })\n          }\n          this.publishTableVisible = false\n        })\n      }, '请检查您所填写的信息是否有误')\n    },\n    // 显示更新公告的对话框\n    showUpdateNoticeDialog(row) {\n      this.updateForm.content = row.content\n      this.updateForm.nid = row.nid\n      this.updateForm.status = row.status + ''\n      this.currentUpdateNoticeStatus = row.status + ''\n      this.updateTableVisible = true\n      window.setTimeout(() => {\n        this.createUpdateWangEditor()\n      }, 200)\n    },\n    // 更新公告\n    updateNotice() {\n      utils.validFormAndInvoke(this.$refs.updateForm, () => {\n        notice.updateNotice(this.updateForm).then((resp) => {\n          if (resp.code === 200) {\n            this.getNoticeInfo()\n            this.$notify({\n              title: 'Tips',\n              message: resp.message,\n              type: 'success',\n              duration: 2000\n            })\n          } else {\n            this.$notify({\n              title: 'Tips',\n              message: resp.message,\n              type: 'error',\n              duration: 2000\n            })\n          }\n          this.updateTableVisible = false\n        })\n      }, '请检查您所填写的信息是否有误')\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import \"../../assets/css/admin/NoticeManage\";\n</style>\n"],"mappings":"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"}]}