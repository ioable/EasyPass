{"remainingRequest":"D:\\BaiduDownload\\projectmass\\exam-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\BaiduDownload\\projectmass\\exam-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\BaiduDownload\\projectmass\\exam-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\BaiduDownload\\projectmass\\exam-vue\\src\\views\\teacher\\ExamManage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\BaiduDownload\\projectmass\\exam-vue\\src\\views\\teacher\\ExamManage.vue","mtime":1682044119000},{"path":"D:\\BaiduDownload\\projectmass\\exam-vue\\babel.config.js","mtime":1682044119000},{"path":"D:\\BaiduDownload\\projectmass\\exam-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686540617114},{"path":"D:\\BaiduDownload\\projectmass\\exam-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1686540617613},{"path":"D:\\BaiduDownload\\projectmass\\exam-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686540617114},{"path":"D:\\BaiduDownload\\projectmass\\exam-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1686540616128}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBleGFtIGZyb20gJ0AvYXBpL2V4YW0nOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0V4YW1NYW5hZ2UnLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBxdWVyeUluZm86IHsKICAgICAgICAnZXhhbVR5cGUnOiBudWxsLAogICAgICAgICdzdGFydFRpbWUnOiBudWxsLAogICAgICAgICdlbmRUaW1lJzogbnVsbCwKICAgICAgICAnZXhhbU5hbWUnOiBudWxsLAogICAgICAgICdwYWdlTm8nOiAwLAogICAgICAgICdwYWdlU2l6ZSc6IDEwCiAgICAgIH0sCiAgICAgIC8v6KGo5qC85piv5ZCm5Zyo5Yqg6L29CiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIC8v6ICD6K+V57G75Z6L5L+h5oGvCiAgICAgIGV4YW1UeXBlOiBbewogICAgICAgIGluZm86ICflhazlvIDogIPor5UnLAogICAgICAgIHR5cGU6IDEKICAgICAgfSwgewogICAgICAgIGluZm86ICfpnIDopoHlr4bnoIEnLAogICAgICAgIHR5cGU6IDIKICAgICAgfV0sCiAgICAgIC8v6KKr6YCJ5oup55qE6ICD6K+V55qE6KGMCiAgICAgIHNlbGVjdGlvblRhYmxlOiBbXSwKICAgICAgLy/ooajmoLzlpJrooYzpgInkuK3nmoTmk43kvZzkv6Hmga8KICAgICAgb3BlcmF0aW9uOiAnJywKICAgICAgLy/mlK/mjIHmk43kvZznmoTkv6Hmga8KICAgICAgb3BlcmF0aW9uSW5mbzogW3sKICAgICAgICAnbGFiZWwnOiAn5ZCv55SoJywKICAgICAgICAnZGVzYyc6ICdvbicKICAgICAgfSwgewogICAgICAgICdsYWJlbCc6ICfnpoHnlKgnLAogICAgICAgICdkZXNjJzogJ29mZicKICAgICAgfSwgewogICAgICAgICdsYWJlbCc6ICfliKDpmaQnLAogICAgICAgICdkZXNjJzogJ2RlbGV0ZScKICAgICAgfV0sCiAgICAgIC8v6ICD6K+V5L+h5oGvCiAgICAgIGV4YW1JbmZvOiBbXSwKICAgICAgLy/mn6Xor6LliLDnmoTogIPor5XmgLvmlbAKICAgICAgdG90YWw6IDAKICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRFeGFtSW5mbygpOwogIH0sCiAgbWV0aG9kczogewogICAgLy/ogIPor5XnsbvlnovmkJzntKIKICAgIHR5cGVDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMucXVlcnlJbmZvLmV4YW1UeXBlID0gdmFsOwogICAgICB0aGlzLmdldEV4YW1JbmZvKCk7CiAgICB9LAogICAgLy/mk43kvZzlpJrooYzooajmoLzkv6Hmga8KICAgIG9wZXJhdGlvbkNoYW5nZSh2YWwpIHsKICAgICAgbGV0IGV4YW1JZHMgPSBbXTsKICAgICAgdGhpcy5zZWxlY3Rpb25UYWJsZS5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgIGV4YW1JZHMucHVzaChpdGVtLmV4YW1JZCk7CiAgICAgIH0pOwogICAgICBpZiAodmFsID09PSAnb24nKSB7CiAgICAgICAgZXhhbS5vcGVyYXRpb25FeGFtKDEsIHsKICAgICAgICAgICdpZHMnOiBleGFtSWRzLmpvaW4oJywnKQogICAgICAgIH0pLnRoZW4ocmVzcCA9PiB7CiAgICAgICAgICBpZiAocmVzcC5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgdGhpcy5nZXRFeGFtSW5mbygpOwogICAgICAgICAgICB0aGlzLiRub3RpZnkoewogICAgICAgICAgICAgICd0eXBlJzogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICd0aXRsZSc6ICdUaXBzJywKICAgICAgICAgICAgICAnbWVzc2FnZSc6ICfmk43kvZzmiJDlip8nLAogICAgICAgICAgICAgICdkdXJhdGlvbic6IDIwMDAKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAodmFsID09PSAnb2ZmJykgewogICAgICAgIGV4YW0ub3BlcmF0aW9uRXhhbSgyLCB7CiAgICAgICAgICAnaWRzJzogZXhhbUlkcy5qb2luKCcsJykKICAgICAgICB9KS50aGVuKHJlc3AgPT4gewogICAgICAgICAgaWYgKHJlc3AuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgIHRoaXMuZ2V0RXhhbUluZm8oKTsKICAgICAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgICAgICAndHlwZSc6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAndGl0bGUnOiAnVGlwcycsCiAgICAgICAgICAgICAgJ21lc3NhZ2UnOiAn5pON5L2c5oiQ5YqfJywKICAgICAgICAgICAgICAnZHVyYXRpb24nOiAyMDAwCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKHZhbCA9PT0gJ2RlbGV0ZScpIHsKICAgICAgICBleGFtLm9wZXJhdGlvbkV4YW0oMywgewogICAgICAgICAgJ2lkcyc6IGV4YW1JZHMuam9pbignLCcpCiAgICAgICAgfSkudGhlbihyZXNwID0+IHsKICAgICAgICAgIGlmIChyZXNwLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICB0aGlzLmdldEV4YW1JbmZvKCk7CiAgICAgICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICAgICAgJ3R5cGUnOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgJ3RpdGxlJzogJ1RpcHMnLAogICAgICAgICAgICAgICdtZXNzYWdlJzogJ+aTjeS9nOaIkOWKnycsCiAgICAgICAgICAgICAgJ2R1cmF0aW9uJzogMjAwMAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIC8v5p+l6K+i6ICD6K+V5L+h5oGvCiAgICBnZXRFeGFtSW5mbygpIHsKICAgICAgZXhhbS5nZXRFeGFtSW5mbyh0aGlzLnF1ZXJ5SW5mbykudGhlbihyZXNwID0+IHsKICAgICAgICBpZiAocmVzcC5jb2RlID09PSAyMDApIHsKICAgICAgICAgIHJlc3AuZGF0YS5kYXRhLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgIGl0ZW0uc3RhcnRUaW1lID0gU3RyaW5nKGl0ZW0uc3RhcnRUaW1lKS5zdWJzdHJpbmcoMCwgMTApOwogICAgICAgICAgICBpdGVtLmVuZFRpbWUgPSBTdHJpbmcoaXRlbS5lbmRUaW1lKS5zdWJzdHJpbmcoMCwgMTApOwogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmV4YW1JbmZvID0gcmVzcC5kYXRhLmRhdGE7CiAgICAgICAgICB0aGlzLnRvdGFsID0gcmVzcC5kYXRhLnRvdGFsOwogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvL+WkhOeQhuihqOagvOiiq+mAieS4rQogICAgaGFuZGxlVGFibGVTZWN0aW9uQ2hhbmdlKHZhbCkgewogICAgICB0aGlzLnNlbGVjdGlvblRhYmxlID0gdmFsOwogICAgfSwKICAgIC8v5YiG6aG16aG16Z2i5aSn5bCP5pS55Y+YCiAgICBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgewogICAgICB0aGlzLnF1ZXJ5SW5mby5wYWdlU2l6ZSA9IHZhbDsKICAgICAgdGhpcy5nZXRFeGFtSW5mbygpOwogICAgfSwKICAgIC8v5YiG6aG15o+S5Lu255qE6aG15pWwCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgewogICAgICB0aGlzLnF1ZXJ5SW5mby5wYWdlTm8gPSB2YWw7CiAgICAgIHRoaXMuZ2V0RXhhbUluZm8oKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["exam","name","data","queryInfo","loading","examType","info","type","selectionTable","operation","operationInfo","examInfo","total","created","getExamInfo","methods","typeChange","val","operationChange","examIds","forEach","item","push","examId","operationExam","join","then","resp","code","$notify","startTime","String","substring","endTime","handleTableSectionChange","handleSizeChange","pageSize","handleCurrentChange","pageNo"],"sources":["src/views/teacher/ExamManage.vue"],"sourcesContent":["<template>\n  <el-container>\n    <el-header height=\"220\">\n      <el-select @change=\"typeChange\" clearable v-model=\"queryInfo.examType\" placeholder=\"请选择考试类型\">\n        <el-option\n          v-for=\"item in examType\"\n          :key=\"item.type\"\n          :label=\"item.info\"\n          :value=\"item.type\">\n        </el-option>\n      </el-select>\n\n      <el-date-picker style=\"margin-left: 5px\"\n                      v-model=\"queryInfo.startTime\" @change=\"getExamInfo\"\n                      type=\"date\"\n                      placeholder=\"考试开始时间\">\n      </el-date-picker>\n\n      <el-date-picker style=\"margin-left: 5px\" @change=\"getExamInfo\"\n                      v-model=\"queryInfo.endTime\"\n                      type=\"date\"\n                      placeholder=\"考试结束时间\">\n      </el-date-picker>\n\n      <el-input v-model=\"queryInfo.examName\" placeholder=\"考试名称\" @blur=\"getExamInfo\"\n                style=\"margin-left: 5px;width: 220px\"\n                prefix-icon=\"el-icon-search\"></el-input>\n      <br>\n      <el-button type=\"primary\" icon=\"el-icon-plus\" style=\"margin-top: 10px\"\n                 @click=\"$router.push('/addExam')\">添加\n      </el-button>\n    </el-header>\n\n    <el-main>\n      <!--操作的下拉框-->\n      <el-select @change=\"operationChange\" clearable v-if=\"selectionTable.length !== 0\" v-model=\"operation\"\n                 :placeholder=\"'已选择' + selectionTable.length + '项'\" style=\"margin-bottom: 25px;\">\n        <el-option v-for=\"(item,index) in operationInfo\" :key=\"index\" :value=\"item.desc\">\n          <span style=\"float: left\">{{ item.label }}</span>\n          <span style=\"float: right; color: #8492a6; font-size: 13px\">{{ item.desc }}</span>\n        </el-option>\n      </el-select>\n\n      <el-table\n        ref=\"questionTable\"\n        highlight-current-row\n        v-loading=\"loading\"\n        :border=\"true\"\n        :data=\"examInfo\"\n        tooltip-effect=\"dark\"\n        style=\"width: 100%;\" @selection-change=\"handleTableSectionChange\">\n\n        <el-table-column align=\"center\"\n                         type=\"selection\"\n                         width=\"55\">\n        </el-table-column>\n\n        <el-table-column align=\"center\" label=\"考试名称\">\n          <template slot-scope=\"scope\">\n            <span style=\"cursor:pointer;color: rgb(24,144,255)\" @click=\"$router.push('/updateExam/'+ scope.row.examId)\">{{\n                scope.row.examName\n              }}</span>\n          </template>\n        </el-table-column>\n\n        <el-table-column align=\"center\" label=\"考试类型\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.type === 1 ? '完全公开' : '需要密码' }}\n          </template>\n        </el-table-column>\n\n        <el-table-column align=\"center\" label=\"考试时间\">\n          <template slot-scope=\"scope\">\n            {{\n              scope.row.startTime !== 'null' && scope.row.endTime !== 'null' ?\n                scope.row.startTime + ' ~' + scope.row.endTime : '不限时'\n            }}\n          </template>\n        </el-table-column>\n\n        <el-table-column align=\"center\" prop=\"totalScore\" label=\"考试总分\"></el-table-column>\n\n        <el-table-column align=\"center\" prop=\"passScore\" label=\"及格分数\"></el-table-column>\n\n        <el-table-column align=\"center\" prop=\"duration\" label=\"考试时长(分)\"></el-table-column>\n\n        <el-table-column align=\"center\" label=\"状态\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.status === 1 ? '启用' : '禁用' }}\n          </template>\n        </el-table-column>\n\n      </el-table>\n\n      <!--分页-->\n      <el-pagination style=\"margin-top: 25px\"\n                     @size-change=\"handleSizeChange\"\n                     @current-change=\"handleCurrentChange\"\n                     :current-page=\"queryInfo.pageNo\"\n                     :page-sizes=\"[10, 20, 30, 50]\"\n                     :page-size=\"queryInfo.pageSize\"\n                     layout=\"total, sizes, prev, pager, next, jumper\"\n                     :total=\"total\">\n      </el-pagination>\n    </el-main>\n\n  </el-container>\n\n</template>\n\n<script>\nimport exam from '@/api/exam'\n\nexport default {\n  name: 'ExamManage',\n  data () {\n    return {\n      queryInfo: {\n        'examType': null,\n        'startTime': null,\n        'endTime': null,\n        'examName': null,\n        'pageNo': 0,\n        'pageSize': 10\n      },\n      //表格是否在加载\n      loading: true,\n      //考试类型信息\n      examType: [\n        {\n          info: '公开考试',\n          type: 1\n        },\n        {\n          info: '需要密码',\n          type: 2\n        }\n      ],\n      //被选择的考试的行\n      selectionTable: [],\n      //表格多行选中的操作信息\n      operation: '',\n      //支持操作的信息\n      operationInfo: [\n        {\n          'label': '启用',\n          'desc': 'on'\n        },\n        {\n          'label': '禁用',\n          'desc': 'off'\n        },\n        {\n          'label': '删除',\n          'desc': 'delete'\n        }\n      ],\n      //考试信息\n      examInfo: [],\n      //查询到的考试总数\n      total: 0,\n\n    }\n  },\n  created () {\n    this.getExamInfo()\n  },\n  methods: {\n    //考试类型搜索\n    typeChange (val) {\n      this.queryInfo.examType = val\n      this.getExamInfo()\n    },\n    //操作多行表格信息\n    operationChange (val) {\n      let examIds = []\n      this.selectionTable.forEach(item => {\n        examIds.push(item.examId)\n      })\n      if (val === 'on') {\n        exam.operationExam(1, { 'ids': examIds.join(',') }).then((resp) => {\n          if (resp.code === 200) {\n            this.getExamInfo()\n            this.$notify({\n              'type': 'success',\n              'title': 'Tips',\n              'message': '操作成功',\n              'duration': 2000\n            })\n          }\n        })\n      } else if (val === 'off') {\n        exam.operationExam(2, { 'ids': examIds.join(',') }).then((resp) => {\n          if (resp.code === 200) {\n            this.getExamInfo()\n            this.$notify({\n              'type': 'success',\n              'title': 'Tips',\n              'message': '操作成功',\n              'duration': 2000\n            })\n          }\n        })\n      } else if (val === 'delete') {\n        exam.operationExam(3, { 'ids': examIds.join(',') }).then((resp) => {\n          if (resp.code === 200) {\n            this.getExamInfo()\n            this.$notify({\n              'type': 'success',\n              'title': 'Tips',\n              'message': '操作成功',\n              'duration': 2000\n            })\n          }\n        })\n      }\n    },\n    //查询考试信息\n    getExamInfo () {\n      exam.getExamInfo(this.queryInfo).then((resp) => {\n        if (resp.code === 200) {\n          resp.data.data.forEach(item => {\n            item.startTime = String(item.startTime).substring(0, 10)\n            item.endTime = String(item.endTime).substring(0, 10)\n          })\n          this.examInfo = resp.data.data\n          this.total = resp.data.total\n          this.loading = false\n        }\n      })\n    },\n    //处理表格被选中\n    handleTableSectionChange (val) {\n      this.selectionTable = val\n    },\n    //分页页面大小改变\n    handleSizeChange (val) {\n      this.queryInfo.pageSize = val\n      this.getExamInfo()\n    },\n    //分页插件的页数\n    handleCurrentChange (val) {\n      this.queryInfo.pageNo = val\n      this.getExamInfo()\n    },\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import \"../../assets/css/teacher/examManage\";\n</style>\n"],"mappings":";AA+GA,OAAAA,IAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,SAAA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;MACA;MACAC,OAAA;MACA;MACAC,QAAA,GACA;QACAC,IAAA;QACAC,IAAA;MACA,GACA;QACAD,IAAA;QACAC,IAAA;MACA,EACA;MACA;MACAC,cAAA;MACA;MACAC,SAAA;MACA;MACAC,aAAA,GACA;QACA;QACA;MACA,GACA;QACA;QACA;MACA,GACA;QACA;QACA;MACA,EACA;MACA;MACAC,QAAA;MACA;MACAC,KAAA;IAEA;EACA;EACAC,QAAA;IACA,KAAAC,WAAA;EACA;EACAC,OAAA;IACA;IACAC,WAAAC,GAAA;MACA,KAAAd,SAAA,CAAAE,QAAA,GAAAY,GAAA;MACA,KAAAH,WAAA;IACA;IACA;IACAI,gBAAAD,GAAA;MACA,IAAAE,OAAA;MACA,KAAAX,cAAA,CAAAY,OAAA,CAAAC,IAAA;QACAF,OAAA,CAAAG,IAAA,CAAAD,IAAA,CAAAE,MAAA;MACA;MACA,IAAAN,GAAA;QACAjB,IAAA,CAAAwB,aAAA;UAAA,OAAAL,OAAA,CAAAM,IAAA;QAAA,GAAAC,IAAA,CAAAC,IAAA;UACA,IAAAA,IAAA,CAAAC,IAAA;YACA,KAAAd,WAAA;YACA,KAAAe,OAAA;cACA;cACA;cACA;cACA;YACA;UACA;QACA;MACA,WAAAZ,GAAA;QACAjB,IAAA,CAAAwB,aAAA;UAAA,OAAAL,OAAA,CAAAM,IAAA;QAAA,GAAAC,IAAA,CAAAC,IAAA;UACA,IAAAA,IAAA,CAAAC,IAAA;YACA,KAAAd,WAAA;YACA,KAAAe,OAAA;cACA;cACA;cACA;cACA;YACA;UACA;QACA;MACA,WAAAZ,GAAA;QACAjB,IAAA,CAAAwB,aAAA;UAAA,OAAAL,OAAA,CAAAM,IAAA;QAAA,GAAAC,IAAA,CAAAC,IAAA;UACA,IAAAA,IAAA,CAAAC,IAAA;YACA,KAAAd,WAAA;YACA,KAAAe,OAAA;cACA;cACA;cACA;cACA;YACA;UACA;QACA;MACA;IACA;IACA;IACAf,YAAA;MACAd,IAAA,CAAAc,WAAA,MAAAX,SAAA,EAAAuB,IAAA,CAAAC,IAAA;QACA,IAAAA,IAAA,CAAAC,IAAA;UACAD,IAAA,CAAAzB,IAAA,CAAAA,IAAA,CAAAkB,OAAA,CAAAC,IAAA;YACAA,IAAA,CAAAS,SAAA,GAAAC,MAAA,CAAAV,IAAA,CAAAS,SAAA,EAAAE,SAAA;YACAX,IAAA,CAAAY,OAAA,GAAAF,MAAA,CAAAV,IAAA,CAAAY,OAAA,EAAAD,SAAA;UACA;UACA,KAAArB,QAAA,GAAAgB,IAAA,CAAAzB,IAAA,CAAAA,IAAA;UACA,KAAAU,KAAA,GAAAe,IAAA,CAAAzB,IAAA,CAAAU,KAAA;UACA,KAAAR,OAAA;QACA;MACA;IACA;IACA;IACA8B,yBAAAjB,GAAA;MACA,KAAAT,cAAA,GAAAS,GAAA;IACA;IACA;IACAkB,iBAAAlB,GAAA;MACA,KAAAd,SAAA,CAAAiC,QAAA,GAAAnB,GAAA;MACA,KAAAH,WAAA;IACA;IACA;IACAuB,oBAAApB,GAAA;MACA,KAAAd,SAAA,CAAAmC,MAAA,GAAArB,GAAA;MACA,KAAAH,WAAA;IACA;EACA;AACA"}]}