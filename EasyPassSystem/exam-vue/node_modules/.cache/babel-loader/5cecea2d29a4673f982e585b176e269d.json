{"remainingRequest":"C:\\Users\\iyunk\\Desktop\\桌面垃圾\\exam_system-master (2)\\exam-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\iyunk\\Desktop\\桌面垃圾\\exam_system-master (2)\\exam-vue\\src\\utils\\request.js","dependencies":[{"path":"C:\\Users\\iyunk\\Desktop\\桌面垃圾\\exam_system-master (2)\\exam-vue\\src\\utils\\request.js","mtime":1682044119000},{"path":"C:\\Users\\iyunk\\Desktop\\桌面垃圾\\exam_system-master (2)\\exam-vue\\babel.config.js","mtime":1682044119000},{"path":"C:\\Users\\iyunk\\Desktop\\桌面垃圾\\exam_system-master (2)\\exam-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686540617114},{"path":"C:\\Users\\iyunk\\Desktop\\桌面垃圾\\exam_system-master (2)\\exam-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1686540617613}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9NZXNzYWdlMiBmcm9tICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9tZXNzYWdlLmNzcyI7CmltcG9ydCAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvYmFzZS5jc3MiOwppbXBvcnQgX01lc3NhZ2UgZnJvbSAiZWxlbWVudC11aS9saWIvbWVzc2FnZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgdXRpbHMgZnJvbSAnQC91dGlscy91dGlscyc7CmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7CmltcG9ydCB7IGdlbmVyYXRlU2lnbiB9IGZyb20gJ0AvdXRpbHMvc2lnbic7CgovLyDliJvlu7pheGlvc+WunuS+iwpjb25zdCBzZXJ2aWNlID0gYXhpb3MuY3JlYXRlKHsKICBiYXNlVVJMOiBwcm9jZXNzLmVudi5WVUVfQVBQX0JBU0VfVVJMLAogIC8vIGFwaSDnmoQgYmFzZV91cmwKICB0aW1lb3V0OiBwcm9jZXNzLmVudi5WVUVfQVBQX1JFUVVFU1RfVElNRV9PVVQgLy8g6K+35rGC6LaF5pe25pe26Ze0Cn0pOwoKc2VydmljZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoY29uZmlnID0+IHsKICBjb25zdCBwYXJhbXNPYmogPSBfLmdldChjb25maWcsICdwYXJhbXMnLCB7fSk7CiAgY29uc3QgcGFyYW1zQXJyID0gW107CiAgT2JqZWN0LmtleXMocGFyYW1zT2JqKS5maWx0ZXIoa2V5ID0+IHBhcmFtc09ialtrZXldICE9PSBudWxsKS5tYXAoa2V5ID0+IHsKICAgIHBhcmFtc0Fyci5wdXNoKGtleSArICc9JyArIHBhcmFtc09ialtrZXldKTsKICB9KTsKICBjb25zdCB0b2tlbiA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYXV0aG9yaXphdGlvbicpOwogIGNvbnN0IHNpZ25IZWFkZXJzID0gewogICAgJ2JvZHktc3RyaW5nJzogJycsCiAgICAncXVlcnktc3RyaW5nJzogZW5jb2RlVVJJKF8uam9pbihwYXJhbXNBcnIsICcmJykpLAogICAgJ3gtbm9uY2UnOiBgJHt1dGlscy5nZXRSYW5kb21JZCgpfWAsCiAgICAneC10aW1lc3RhbXAnOiBgJHtuZXcgRGF0ZSgpLmdldFRpbWUoKX1gCiAgfTsKICBpZiAoY29uZmlnLmRhdGEpIHsKICAgIHNpZ25IZWFkZXJzWydib2R5LXN0cmluZyddID0gZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNvbmZpZy5kYXRhKSk7CiAgfQogIC8vIGFkZCBhcGkgc2lnbgogIGNvbmZpZy5oZWFkZXJzLnNpZ24gPSBnZW5lcmF0ZVNpZ24oSlNPTi5zdHJpbmdpZnkoc2lnbkhlYWRlcnMpKTsKICBpZiAodG9rZW4pIHsKICAgIC8vIOWIpOaWreaYr+WQpuWtmOWcqHRva2Vu77yM5aaC5p6c5a2Y5Zyo55qE6K+d77yM5YiZ5q+P5LiqaHR0cCBoZWFkZXLpg73liqDkuIp0b2tlbgogICAgY29uZmlnLmhlYWRlcnMuYXV0aG9yaXphdGlvbiA9IHRva2VuOwogIH0KICBPYmplY3QuYXNzaWduKGNvbmZpZy5oZWFkZXJzLCBzaWduSGVhZGVycyk7CiAgcmV0dXJuIGNvbmZpZzsKfSwgZXJyb3IgPT4gewogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwoKLy8gcmVzcG9uc2Ug5oum5oiq5ZmoCnNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShyZXNwb25zZSA9PiB7CiAgLyoqCiAgICogY29kZeS4uumdnjIwMOaYr+aKm+mUmSDlj6/nu5PlkIjoh6rlt7HkuJrliqHov5vooYzkv67mlLkKICAgKi8KICBjb25zdCByZXNwb25zZURhdGEgPSByZXNwb25zZS5kYXRhOwogIGlmIChyZXNwb25zZS5oZWFkZXJzWydjb250ZW50LXR5cGUnXSA9PT0gJ2FwcGxpY2F0aW9uL3BkZicpIHsKICAgIC8vIHBkZua1geebtOaOpei/lOWbngogICAgcmV0dXJuIHJlc3BvbnNlRGF0YTsKICB9CiAgaWYgKHJlc3BvbnNlRGF0YS5jb2RlICE9PSAyMDApIHsKICAgIF9NZXNzYWdlKHsKICAgICAgbWVzc2FnZTogcmVzcG9uc2VEYXRhLm1lc3NhZ2UsCiAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgIGR1cmF0aW9uOiA1ICogMTAwMAogICAgfSk7CiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ2Vycm9yJyk7CiAgfSBlbHNlIHsKICAgIHJldHVybiByZXNwb25zZURhdGE7CiAgfQp9LCBlcnJvciA9PiB7CiAgdmFyIF9lcnJvciRyZXNwb25zZSRkYXRhJDsKICBjb25zb2xlLmxvZygnZXJyJyArIGVycm9yKTsgLy8gZm9yIGRlYnVnCiAgX01lc3NhZ2UoewogICAgbWVzc2FnZTogKF9lcnJvciRyZXNwb25zZSRkYXRhJCA9IGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyTXNnKSAhPT0gbnVsbCAmJiBfZXJyb3IkcmVzcG9uc2UkZGF0YSQgIT09IHZvaWQgMCA/IF9lcnJvciRyZXNwb25zZSRkYXRhJCA6ICfmnI3liqHlmajplJnor68nLAogICAgdHlwZTogJ2Vycm9yJywKICAgIGR1cmF0aW9uOiA1ICogMTAwMAogIH0pOwogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwpleHBvcnQgZGVmYXVsdCBzZXJ2aWNlOw=="},{"version":3,"names":["axios","utils","_","generateSign","service","create","baseURL","process","env","VUE_APP_BASE_URL","timeout","VUE_APP_REQUEST_TIME_OUT","interceptors","request","use","config","paramsObj","get","paramsArr","Object","keys","filter","key","map","push","token","window","localStorage","getItem","signHeaders","encodeURI","join","getRandomId","Date","getTime","data","encodeURIComponent","JSON","stringify","headers","sign","authorization","assign","error","Promise","reject","response","responseData","code","_Message","message","type","duration","_error$response$data$","console","log","errMsg"],"sources":["C:/Users/iyunk/Desktop/桌面垃圾/exam_system-master (2)/exam-vue/src/utils/request.js"],"sourcesContent":["import axios from 'axios'\nimport { Message } from 'element-ui'\nimport utils from '@/utils/utils'\nimport _ from 'lodash'\nimport { generateSign } from '@/utils/sign'\n\n// 创建axios实例\nconst service = axios.create({\n  baseURL: process.env.VUE_APP_BASE_URL, // api 的 base_url\n  timeout: process.env.VUE_APP_REQUEST_TIME_OUT // 请求超时时间\n})\n\nservice.interceptors.request.use(config => {\n  const paramsObj = _.get(config, 'params', {})\n  const paramsArr = []\n  Object.keys(paramsObj)\n    .filter(key => paramsObj[key] !== null)\n    .map(key => {\n      paramsArr.push(key + '=' + paramsObj[key])\n    })\n  const token = window.localStorage.getItem('authorization')\n  const signHeaders = {\n    'body-string': '',\n    'query-string': encodeURI(_.join(paramsArr, '&')),\n    'x-nonce': `${utils.getRandomId()}`,\n    'x-timestamp': `${new Date().getTime()}`\n  }\n  if (config.data) {\n    signHeaders['body-string'] = encodeURIComponent(JSON.stringify(config.data))\n  }\n  // add api sign\n  config.headers.sign = generateSign(JSON.stringify(signHeaders))\n  if (token) {  // 判断是否存在token，如果存在的话，则每个http header都加上token\n    config.headers.authorization = token\n  }\n  Object.assign(config.headers, signHeaders)\n  return config\n}, error => {\n  return Promise.reject(error)\n})\n\n// response 拦截器\nservice.interceptors.response.use(\n  response => {\n    /**\n     * code为非200是抛错 可结合自己业务进行修改\n     */\n    const responseData = response.data\n    if (response.headers['content-type'] === 'application/pdf') {// pdf流直接返回\n      return responseData\n    }\n    if (responseData.code !== 200) {\n      Message({\n        message: responseData.message,\n        type: 'error',\n        duration: 5 * 1000\n      })\n      return Promise.reject('error')\n    } else {\n      return responseData\n    }\n  },\n  error => {\n    console.log('err' + error) // for debug\n    Message({\n      message: error.response.data.errMsg ?? '服务器错误',\n      type: 'error',\n      duration: 5 * 1000\n    })\n    return Promise.reject(error)\n  }\n)\n\nexport default service\n"],"mappings":"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"}]}